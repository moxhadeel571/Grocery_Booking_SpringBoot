<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Vegefoods - Free Bootstrap 4 Template by Colorlib</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    
    <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,500,600,700,800&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Lora:400,400i,700,700i&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css?family=Amatic+SC:400,700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="/css/open-iconic-bootstrap.min.css">
    <link rel="stylesheet" href="/css/animate.css">
    
    <link rel="stylesheet" href="/css/owl.carousel.min.css">
    <link rel="stylesheet" href="/css/owl.theme.default.min.css">
    <link rel="stylesheet" href="/css/magnific-popup.css">

    <link rel="stylesheet" href="/css/aos.css">

    <link rel="stylesheet" href="/css/ionicons.min.css">

    <link rel="stylesheet" href="/css/bootstrap-datepicker.css">
    <link rel="stylesheet" href="/css/jquery.timepicker.css">

    
    <link rel="stylesheet" href="/css/flaticon.css">
    <link rel="stylesheet" href="/css/icomoon.css">
    <link rel="stylesheet" href="/css/style.css">
  </head>
  <body class="goto-here">


  <div th:insert="Fragement/Header::header"></div>
    <!-- END nav -->

    <div class="hero-wrap hero-bread" style="background-image: url('/images/bg_1.jpg');">
      <div class="container">
        <div class="row no-gutters slider-text align-items-center justify-content-center">
          <div class="col-md-9 ftco-animate text-center">
          	<p class="breadcrumbs"><span class="mr-2"><a href="home.html">Home</a></span> <span>Checkout</span></p>
            <h1 class="mb-0 bread">Checkout</h1>
          </div>
        </div>
      </div>
    </div>

    <section class="ftco-section">
      <div class="container">
        <div class="row justify-content-center">
          <div class="col-xl-7 ftco-animate">
						<form id="razorpayForm" method="post" th:object="${UpdateEmail}" th:action="@{/users/payment/success/{id}(id=${id})}" class="billing-form">
							<h3 class="mb-4 billing-heading">Billing Details</h3>
	          	<div class="row align-items-end">
	          		<div class="col-md-6">
	                <div class="form-group">
	                	<label for="firstName">Firt Name</label>
	                  <input type="text" name="firstName" id="firstName" class="form-control" placeholder="">
	                </div>
	              </div>
	              <div class="col-md-6">
	                <div class="form-group">
	                	<label for="lastname">Last Name</label>
	                  <input type="text" name="lastname" id="lastname" class="form-control" placeholder="">
	                </div>
                </div>
                <div class="w-100"></div>
		            <div class="col-md-12">
			            <div class="form-group">
				            <label for="state">User Name </label>
				            <div class="select-wrap">
					            <div class="icon"></div>
					            <input name="username" placeholder="User Name" id="username" class="form-control">

				            </div>
			            </div>
		            </div>
                <div class="w-100"></div>

		            <div class="col-md-12">
		            	<div class="form-group">
		            		<label for="state">State </label>
		            		<div class="select-wrap">
		                  <div class="icon"><span class="ion-ios-arrow-down"></span></div>
		                  <select name="state" id="state" class="form-control">
			                  <option th:each="state : ${state}" value="*{state}" th:text="${state}"></option>

		                  </select>
		                </div>
		            	</div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                	<label for="addressLine1">Street Address</label>
	                  <input type="text" name="addressLine1" id="addressLine1" class="form-control" placeholder="House number and street name">
	                </div>
		            </div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                  <input name="addressLine2" type="text" class="form-control" placeholder="Appartment, suite, unit etc: (optional)">
	                </div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
		            	<div class="form-group">
	                	<label for="city">Town / City</label>
	                  <input type="text" name="city" id="city" class="form-control" placeholder="">
	                </div>
		            </div>
		            <div class="col-md-6">
		            	<div class="form-group">
		            		<label for="zipcode">Postcode / ZIP *</label>
	                  <input type="text" name="zipcode" id="zipcode" class="form-control" placeholder="">
	                </div>
		            </div>
		            <div class="w-100"></div>
		            <div class="col-md-6">
	                <div class="form-group">
	                	<label for="phone">Phone</label>
	                  <input type="text"  id="phone" class="form-control" name="phone" placeholder="">
	                </div>
	              </div>
	              <div class="col-md-6">
	                <div class="form-group">
	                	<label for="mail">Email Address</label>
	                  <input type="text" name="to" th:field="*{to}" id="mail" class="form-control" placeholder="">
	                </div>
                </div>
	            </div>
	          </form><!-- END -->
					</div>
					<div class="col-xl-5">
	          <div class="row mt-5 pt-3">
	          	<div class="col-md-12 d-flex mb-5">
	          		<div class="cart-detail cart-total p-3 p-md-4">
	          			<h3 class="billing-heading mb-4">Cart Total</h3>
	          			<p class="d-flex">

		    					<hr>
		    					<p class="d-flex total-price">
		    						<span>Total</span>
		    						<span th:text="${totalAmount}"></span>
		    					</p>
								</div>
	          	</div>
	          	<div class="col-md-12">
	          		<div class="cart-detail p-3 p-md-4">
	          			<h3 class="billing-heading mb-4">Payment Method</h3>

									<div class="form-group">
										<div class="col-md-12">
											<div class="radio">
											   <label><input type="radio" name="paymentmethod" class="mr-2"> Check Payment</label>
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="col-md-12">
											<div class="radio">
											   <label><input type="radio" name="paymentmethod" class="mr-2"> Online</label>
											</div>
										</div>
									</div>
									<div class="form-group">
										<div class="col-md-12">
											<div class="checkbox">
											   <label><input type="checkbox"  value="" class="mr-2"> I have read and accept the terms and conditions</label>
											</div>
										</div>
									</div>
									<p>
			            <div class="form-check">
				            <button id="rzp-button1" type="button" class="btn btn-black btn-sm" required>
					            Razorpay
				            </button>
				            <input type="hidden" id="razorpay_order_id" name="razorpay_order_id" value="your_order_id_here" />
				            <input id="razorpay_payment_id" type="hidden" name="razorpayPaymentID" />
				            <input id="razorpay_signature" type="hidden" name="razorpay_signature" />

			            </div></p>
								</div>
	          	</div>
	          </div>
          </div> <!-- .col-md-8 -->
        </div>
      </div>
    </section> <!-- .section -->

		<section class="ftco-section ftco-no-pt ftco-no-pb py-5 bg-light">
      <div class="container py-4">
        <div class="row d-flex justify-content-center py-5">
          <div class="col-md-6">
          	<h2 style="font-size: 22px;" class="mb-0">Subcribe to our Newsletter</h2>
          	<span>Get e-mail updates about our latest shops and special offers</span>
          </div>
          <div class="col-md-6 d-flex align-items-center">
            <form action="#" class="subscribe-form">
              <div class="form-group d-flex">
                <input type="text" class="form-control" placeholder="Enter email address">
                <input type="submit" value="Subscribe" class="submit px-3">
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
  <footer th:insert="Fragement/Footer::footer"></footer>






    <!-- loader -->
  <div id="ftco-loader" class="show fullscreen"><svg class="circular" width="48px" height="48px"><circle class="path-bg" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke="#eeeeee"/><circle class="path" cx="24" cy="24" r="22" fill="none" stroke-width="4" stroke-miterlimit="10" stroke="#F96D00"/></svg></div>


  <script src="/js/jquery.min.js"></script>
  <script src="/js/jquery-migrate-3.0.1.min.js"></script>
  <script src="/js/popper.min.js"></script>
  <script src="/js/bootstrap.min.js"></script>
  <script src="/js/jquery.easing.1.3.js"></script>
  <script src="/js/jquery.waypoints.min.js"></script>
  <script src="/js/jquery.stellar.min.js"></script>
  <script src="/js/owl.carousel.min.js"></script>
  <script src="/js/jquery.magnific-popup.min.js"></script>
  <script src="/js/aos.js"></script>
  <script src="/js/jquery.animateNumber.min.js"></script>
  <script src="/js/bootstrap-datepicker.js"></script>
  <script src="/js/scrollax.min.js"></script>
  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBVWaKrjvy3MaE7SQ74_uJiULgl1JY0H2s&sensor=false"></script>
  <script src="/js/google-map.js"></script>
  <script src="/js/main.js"></script>

  <script>
		$(document).ready(function(){

		var quantitiy=0;
		   $('.quantity-right-plus').click(function(e){
		        
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		            
		            $('#quantity').val(quantity + 1);

		          
		            // Increment
		        
		    });

		     $('.quantity-left-minus').click(function(e){
		        // Stop acting like a button
		        e.preventDefault();
		        // Get the field name
		        var quantity = parseInt($('#quantity').val());
		        
		        // If is not undefined
		      
		            // Increment
		            if(quantity>0){
		            $('#quantity').val(quantity - 1);
		            }
		    });
		    
		});
	</script>
  <script src="https://checkout.razorpay.com/v1/checkout.js"></script>
  <script>
      // Assuming you have a form element with an ID like "checkout-form"
      // Add an event listener to the button

      // Replace 'your_api_key_here' with your actual Razorpay API key
      var options = {
          key: 'rzp_test_BGPTgqrkVagzn6',
          name: "DJ Tiesto",          // Name of the payment receiver
          description: "Tron Legacy", // Description of the payment
          image: "https://s29.postimg.org/r6dj1g85z/daft_punk.jpg", // Image for the payment

          // Pre-fill customer information
          prefill: {
              name: document.getElementById("username"),
              email: document.getElementById("mail"),
              contact: document.getElementById("phone")

          },

          // Additional notes
          notes: {
              address:  document.getElementById("addressLine1"),
              merchant_order_id:  document.getElementById("id") // Replace with your order ID
          },

          // Theme customization
          theme: {
              color: "#F37254" // Custom color for the payment form
          },

          // Your order ID goes here
      };
      console.log(document.getElementById("username"));
      console.log(document.getElementById("mail"));
      console.log(document.getElementById("phone"));

      options.handler = function(res) {
          // Fill the form fields with payment information
          document.getElementById('razorpay_payment_id').value = res.razorpay_payment_id;
          document.getElementById('razorpay_signature').value = res.razorpay_signature;
          document.getElementById('razorpay_order_id').value = res.razorpay_order_id; // Replace with order ID

          // Submit the form to your server
          document.getElementById('razorpayForm').submit();
      };

      // Create the Razorpay object
      var rzp = new Razorpay(options);

      // Trigger the payment popup when the button is clicked
      document.getElementById('rzp-button1').onclick = function(e){
          rzp.open();
          e.preventDefault();
      };
  </script>


  </body>
</html>